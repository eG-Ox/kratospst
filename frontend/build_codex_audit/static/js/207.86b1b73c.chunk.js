"use strict";(self.webpackChunksistema_inventario_frontend=self.webpackChunksistema_inventario_frontend||[]).push([[207],{207(e,t,s){s.r(t),s.d(t,{default:()=>n});var a=s(950),r=s(112),i=s(414);const n=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(""),[c,l]=(0,a.useState)(""),[d,o]=(0,a.useState)(""),h=(0,a.useCallback)(async()=>{try{const e={};s&&(e.venta_id=s),c&&(e.q=c),d&&(e.tipo=d);const a=await r.XR.detalle(e);t(a.data||[])}catch(e){console.error("Error cargando detalle:",e)}},[c,d,s]);(0,a.useEffect)(()=>{h()},[h]);const x=(0,a.useMemo)(()=>e||[],[e]);return(0,i.jsxs)("div",{className:"ventas-detalle-container",children:[(0,i.jsxs)("div",{className:"page-header",children:[(0,i.jsxs)("div",{className:"page-header__title",children:[(0,i.jsx)("h5",{children:"Detalle de Ventas"}),(0,i.jsx)("span",{className:"page-header__subtitle",children:"Historico por venta y producto"})]}),(0,i.jsx)("div",{className:"page-header__actions",children:(0,i.jsx)("button",{type:"button",className:"btn-secondary",onClick:h,children:"Actualizar"})})]}),(0,i.jsxs)("div",{className:"detalle-filtros",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Venta ID"}),(0,i.jsx)("input",{type:"text",value:s,onChange:e=>n(e.target.value.trim()),placeholder:"Ej: 3"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Buscar producto"}),(0,i.jsx)("input",{type:"text",value:c,onChange:e=>l(e.target.value),placeholder:"Codigo o descripcion"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Tipo"}),(0,i.jsxs)("select",{value:d,onChange:e=>o(e.target.value),children:[(0,i.jsx)("option",{value:"",children:"Todos"}),(0,i.jsx)("option",{value:"producto",children:"Producto"}),(0,i.jsx)("option",{value:"requerimiento",children:"Requerimiento"}),(0,i.jsx)("option",{value:"regalo",children:"Regalo"}),(0,i.jsx)("option",{value:"regalo_requerimiento",children:"Regalo requerimiento"})]})]}),(0,i.jsx)("div",{className:"form-group form-group-actions",children:(0,i.jsx)("button",{type:"button",className:"btn-primary",onClick:h,children:"Filtrar"})})]}),(0,i.jsx)("div",{className:"table-container",children:0===x.length?(0,i.jsx)("div",{className:"empty-message",children:"No hay registros."}):(0,i.jsxs)("table",{className:"ventas-table compact",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Venta ID"}),(0,i.jsx)("th",{children:"Fecha"}),(0,i.jsx)("th",{children:"Tipo"}),(0,i.jsx)("th",{children:"Codigo"}),(0,i.jsx)("th",{children:"Descripcion"}),(0,i.jsx)("th",{children:"Cantidad"}),(0,i.jsx)("th",{children:"Precio venta"}),(0,i.jsx)("th",{children:"Precio compra"}),(0,i.jsx)("th",{children:"Proveedor"})]})}),(0,i.jsx)("tbody",{children:x.map((e,t)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.ventaId}),(0,i.jsx)("td",{children:e.fechaVenta||"-"}),(0,i.jsx)("td",{children:e.tipo}),(0,i.jsx)("td",{children:e.codigo||"-"}),(0,i.jsx)("td",{children:e.descripcion||"-"}),(0,i.jsx)("td",{children:e.cantidad}),(0,i.jsxs)("td",{children:["S/ ",Number(e.precioVenta||0).toFixed(2)]}),(0,i.jsxs)("td",{children:["S/ ",Number(e.precioCompra||0).toFixed(2)]}),(0,i.jsx)("td",{children:e.proveedor||"-"})]},"".concat(e.ventaId,"-").concat(e.codigo,"-").concat(t)))})]})})]})}}}]);