"use strict";(self.webpackChunksistema_inventario_frontend=self.webpackChunksistema_inventario_frontend||[]).push([[406],{406(e,a,s){s.r(a),s.d(a,{default:()=>l});var n=s(950),o=s(429),i=s(112),r=s(414);const t=e=>{let{onLoginSuccess:a}=e;const[s,t]=(0,n.useState)(""),[l,d]=(0,n.useState)(""),[u,c]=(0,n.useState)(!1),[m,p]=(0,n.useState)(""),h=(0,o.Zp)();return(0,r.jsx)("div",{className:"login-form-container",children:(0,r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p(""),s&&l)try{c(!0);const e=await i.y1.login(s,l);localStorage.setItem("usuario",JSON.stringify(e.data.usuario)),a(e.data.usuario),h("/dashboard")}catch(m){var n,o;p((null===(n=m.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error)||"Error al iniciar sesion")}finally{c(!1)}else p("Usuario y contrasena requeridos")},className:"login-form",autoComplete:"off",children:[(0,r.jsx)("h2",{children:"Iniciar Sesion"}),m&&(0,r.jsx)("div",{className:"error-message",children:m}),(0,r.jsx)("input",{type:"text",name:"fakeuser",autoComplete:"username",style:{display:"none"}}),(0,r.jsx)("input",{type:"password",name:"fakepass",autoComplete:"new-password",style:{display:"none"}}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"email",children:"Usuario o Email"}),(0,r.jsx)("input",{id:"email",type:"text",name:"usuario",autoComplete:"off",value:s,onChange:e=>t(e.target.value),placeholder:"usuario o usuario@ejemplo.com",disabled:u})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"contrasena",children:"Contrasena"}),(0,r.jsx)("input",{id:"contrasena",type:"password",name:"contrasena",autoComplete:"new-password",value:l,onChange:e=>d(e.target.value),placeholder:"Ingrese su contrasena",disabled:u})]}),(0,r.jsx)("button",{type:"submit",disabled:u,children:u?"Cargando...":"Iniciar Sesion"})]})})},l=e=>{let{onLoginSuccess:a}=e;const s=(0,o.Zp)();return(0,r.jsx)("div",{className:"login-page",children:(0,r.jsxs)("div",{className:"login-container",children:[(0,r.jsxs)("div",{className:"login-header",children:[(0,r.jsx)("h1",{children:"Sistema de Inventario"}),(0,r.jsx)("p",{children:"Maquinas y Equipos"})]}),(0,r.jsx)(t,{onLoginSuccess:e=>{a(e),s("/dashboard")}})]})})}}}]);